
<%if user_signed_in? %>
  <head>
    <meta name="viewport" content="initial-scale=1.0">
    <meta charset="utf-8">
  </head>

  <body>
    <div id="map" style ='height: 100%; width: 100%;'>
	</div>

    <script>
      var map;
      
      function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
          center: {lat: 40.757042, lng: -73.974724},
          zoom: 13
        });

        createMarker(40.757042,-73.974724,map, 'Courier');

		marker.setMap(map);
		marker.setVisible(true);
		var directionsService = new google.maps.DirectionsService();
	 	var directionsDisplay = new google.maps.DirectionsRenderer();
		directionsDisplay.setMap(map);

		var request = {
		  origin: "255 Warren Street, New Jersey",
		  destination: "400 Park Avenue, New York",
		  travelMode: google.maps.DirectionsTravelMode.WALKING
		};
		directionsService.route(request, function(response, status) {
		  //Check if request is successful.
		  if (status == google.maps.DirectionsStatus.OK) {
		    console.log(status);
		    directionsDisplay.setDirections(response); //Display the directions result
		  }
		});
      }

     var marker;

	function createMarker(lat,lng, map, title){
  	marker = new google.maps.Marker({
    position: new google.maps.LatLng(lat,lng),
    map: map,
    title: title
  	});
	}
	
    </script>

    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB62qZpLPkJOx3s-1qQqq4iUrH1p6Gx5Ow&callback=initMap"
    async defer>
    </script>
  </body>

 <% end %>
</html>



